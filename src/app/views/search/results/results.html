<section class="section" ng-if="!Search.query" style="min-height: 200px">
	<div class="container">
		<p class="text-center text-muted">
			<span class="jolticon jolticon-chevron-up"></span>
			{{ ::'search.results_placeholder' | translate }}
			<span class="jolticon jolticon-chevron-up"></span>
		</p>
	</div>
</section>

<div ng-if="Search.query">

	<!-- Users -->
	<section class="section fill-lightest" ng-if="searchCtrl.payload.users.length">
		<div class="container">

			<div class="clearfix">
				<a class="link-muted pull-right" ui-sref="search.users( { q: searchCtrl.query } )">
					{{ ::'search.results.view_all_link' | translate }}
				</a>
				<h4 class="section-header">
					{{ ::'search.results.users_heading' | translate }}
					<small>({{ searchCtrl.payload.usersCount }})</small>
				</h4>
			</div>

			<div class="search-media-list row">
				<div class="search-media-list-item col-xs-3 col-sm-2 col-lg-1 anim-back-in stagger no-animate-xs"
					ng-repeat="user in searchCtrl.payload.users | limitTo:(Screen.isXs ? 8 : 12) track by user.id"
					>
					<div gj-user-avatar="user" avatar-show-name="true"></div>
				</div>
			</div>

		</div>
	</section>

	<section class="section">
		<div class="container">

			<!-- Devlogs -->
			<div ng-if="searchCtrl.payload.devlogs.length">
				<div class="clearfix">
					<a class="link-muted pull-right" ui-sref="search.devlogs( { q: searchCtrl.query } )">
						{{ ::'search.results.view_all_link' | translate }}
					</a>
					<h4 class="section-header">
						<span translate>Devlogs</span>
						<small>({{ searchCtrl.payload.devlogsCount }})</small>
					</h4>
				</div>

				<gj-game-grid
					size="sm"
					games="Screen.isMobile ? searchCtrl.payload.devlogsMobile : searchCtrl.payload.devlogsDesktop"
					games-count="searchCtrl.payload.devlogsCount"
					>
				</gj-game-grid>
			</div>

			<!-- Games -->
			<div ng-if="searchCtrl.payload.games.length">
				<div class="clearfix">
					<a class="link-muted pull-right" ui-sref="search.games( { q: searchCtrl.query } )">
						{{ ::'search.results.view_all_link' | translate }}
					</a>
					<h4 class="section-header">
						{{ ::'search.results.games_heading' | translate }}
						<small>({{ searchCtrl.payload.gamesCount }})</small>
					</h4>
				</div>

				<gj-game-grid
					games="searchCtrl.payload.games"
					games-count="searchCtrl.payload.gamesCount"
					>
				</gj-game-grid>

			</div>

		</div>
	</section>

</div>
