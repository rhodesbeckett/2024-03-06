<div ng-if="!Environment.isClient">
	<style type="text/css">

		.client-banner {
			position: relative
		}

		.client-banner .section-header {
			font-weight: 100;
		}

		.client-banner-mascot {
			position: absolute;
			bottom: -40px;
			right: -202px;
		}

	</style>

	<section class="section fill-darker">
		<div class="container">
			<div class="row">
				<div class="col-sm-9 col-md-8 col-md-offset-1 col-lg-6 col-lg-offset-2 client-banner">
					<div class="h2 section-header">Psst...</div>
					<p>
						<a href="http://gamejolt.com/client" gj-track-event="home:client-banner">
							<img ng-if="Screen.isXs" src="/app/img/game-jolt-client-logo-2x.png" width="254" height="18" alt="Game Jolt Client">
							<img ng-if="!Screen.isXs" src="/app/img/game-jolt-client-logo-4x.png" width="558" height="36" alt="Game Jolt Client">
						</a>
					</p>
					<p>We launched the Game Jolt Client. It's the whole site on your desktop&mdash;easiest, speediest way to install and play Game Jolt games.</p>
					<a href="http://gamejolt.com/client" class="btn btn-sm btn-primary-outline" gj-track-event="home:client-banner">
						Learn More
					</a>
					<a class="client-banner-mascot hidden-xs" href="http://gamejolt.com/client" gj-track-event="home:client-banner">
						<img src="/app/views/discover/home/banner-clyde.png" width="182" height="207" alt="">
					</a>
				</div>
			</div>
		</div>
	</section>
</div>

<gj-discover-home-featured gj-items="homeCtrl.featuredItems"></gj-discover-home-featured>

<section class="ad-section" ng-if="!Environment.isClient && !Screen.isXs">
	<gj-ad ad-size="leaderboard"></gj-ad>
</section>

<div class="container" ng-if="::!Environment.isClient">
	<div class="social-widgets">
		<span class="social-widgets-label hidden-xs">{{ ::'discover.home.social_label' | translate }}</span>

		<gj-social-twitter-follow handle="gamejolt"></gj-social-twitter-follow>

		<span class="dot-separator hidden-xs"></span>

		<gj-social-facebook-like url="https://facebook.com/gamejolt" show-share="false"></gj-social-facebook-like>
	</div>
</div>

<section class="section" style="padding-bottom: 0">
	<div class="container">
		<h3 class="section-header">Browse by Genre</h3>
		<gj-genre-list></gj-genre-list>
	</div>
</section>

<section class="section">
	<div class="container">

		<h3 class="section-header sans-margin-bottom">
			<a class="link-unstyled" ui-sref="discover.games.list.section( { section: 'best' } )" gj-track-event="home:row-heading:best">
				{{ ::'discover.home.best_heading' | translate }}
			</a>
		</h3>

		<div class="row">
			<div class="col-sm-10 col-md-8 col-lg-6">
				<p class="text-muted small">
					{{ ::'discover.home.best_help' | translate }}
				</p>
			</div>
		</div>

		<div ng-class="{ 'scrollable-grid-xs': Screen.isXs }">
			<div class="row">
				<gj-game-thumbnail
					class="col-xs-10 col-sm-4 col-md-3"
					ng-class="{ 'scrollable-grid-item': Screen.isXs }"
					ng-repeat="game in homeCtrl.bestGames | limitTo:(Screen.isMobile ? 6 : 8 ) track by game.id"
					gj-game="game"
					gj-track-event="home:slider:game:{{ $index }}"
					>
				</gj-game-thumbnail>
			</div>
		</div>

		<div class="text-right">
			<a class="btn btn-primary-outline" ng-class="{ 'btn-block': Screen.isXs }" ui-sref="discover.games.list.section( { section: 'best' } )" gj-track-event="home:more-btn:best">
				<span class="jolticon jolticon-chevron-right"></span>
				More Games
			</a>
		</div>

	</div>
</section>

<section class="section">
	<div class="container">

		<h3 class="section-header sans-margin-bottom">
			<a class="link-unstyled" ui-sref="discover.games.list.section-date( { section: 'by-date', date: homeCtrl.weekDateRange } )" gj-track-event="home:row-heading:week">
				{{ ::'discover.home.week_best_heading' | translate }}
			</a>
		</h3>

		<div class="row">
			<div class="col-sm-10 col-md-8 col-lg-6">
				<p class="text-muted small">{{ ::'discover.home.week_best_help' | translate }}</p>
			</div>
		</div>

		<div ng-class="{ 'scrollable-grid-xs': Screen.isXs }">
			<div class="row">
				<gj-game-thumbnail
					class="col-xs-10 col-sm-4 col-md-3"
					ng-class="{ 'scrollable-grid-item': Screen.isXs }"
					ng-repeat="game in homeCtrl.weeksGames | limitTo:(Screen.isMobile ? 6 : 8 ) track by game.id"
					gj-game="game"
					gj-track-event="home:slider:game:{{ $index }}"
					>
				</gj-game-thumbnail>
			</div>
		</div>

		<div class="text-right">
			<a class="btn btn-primary-outline" ng-class="{ 'btn-block': Screen.isXs }" ui-sref="discover.games.list.section-date( { section: 'by-date', date: homeCtrl.weekDateRange } )" gj-track-event="home:more-btn:week">
				<span class="jolticon jolticon-chevron-right"></span>
				More Games
			</a>
		</div>

	</div>
</section>

<section class="section">
	<div class="container">

		<h3 class="section-header sans-margin-bottom">
			<a class="link-unstyled" ui-sref="discover.games.list.section( { section: 'hot' } )" gj-track-event="home:row-heading:hot">
				{{ ::'discover.home.hot_heading' | translate }}
			</a>
		</h3>

		<div class="row">
			<div class="col-sm-10 col-md-8 col-lg-6">
				<p class="text-muted small">
					{{ ::'discover.home.hot_help' | translate }}
					<a class="link-muted" tooltip="{{ ::'games.list.hotness_tooltip' | translate }}">
						<span class="jolticon jolticon-help-circle"></span>
					</a>
				</p>
			</div>
		</div>

		<div ng-class="{ 'scrollable-grid-xs': Screen.isXs }">
			<div class="row">
				<gj-game-thumbnail
					class="col-xs-10 col-sm-4 col-md-3"
					ng-class="{ 'scrollable-grid-item': Screen.isXs }"
					ng-repeat="game in homeCtrl.hotGames | limitTo:(Screen.isMobile ? 6 : 8 ) track by game.id"
					gj-game="game"
					gj-track-event="home:slider:game:{{ $index }}"
					>
				</gj-game-thumbnail>
			</div>
		</div>

		<div class="text-right">
			<a class="btn btn-primary-outline" ng-class="{ 'btn-block': Screen.isXs }" ui-sref="discover.games.list.section( { section: 'hot' } )" gj-track-event="home:more-btn:hot">
				<span class="jolticon jolticon-chevron-right"></span>
				More Games
			</a>
		</div>

	</div>
</section>

<section class="section fill-lightest">
	<div class="container">

		<div class="clearfix">

			<div ng-class="!Screen.isXs ? 'pull-right' : ''">
				<nav class="platform-list inline" ng-class="{ 'nav-justified': Screen.isXs }">
					<ul>
						<li>
							<a ng-class="{ active: homeCtrl.activeNewsTab == 'hot' }" ng-click="homeCtrl.changeNewsTab( 'hot' )" gj-track-event="home:news-tab:hot">
								{{ ::'discover.home.hot_news_tab' | translate }}
							</a>
						</li>
						<li ng-if="homeCtrl.followedArticles.length">
							<a ng-class="{ active: homeCtrl.activeNewsTab == 'followed' }" ng-click="homeCtrl.changeNewsTab( 'followed' )" gj-track-event="home:news-tab:followed">
								{{ ::'discover.home.followed_news_tab' | translate }}
							</a>
						</li>
					</ul>
				</nav>
			</div>

			<h3 class="section-header sans-margin-bottom" ng-switch="homeCtrl.activeNewsTab">
				<a class="link-unstyled"
					ui-sref="discover.news.list"
					ng-switch-when="hot"
					gj-track-event="home:row-heading:news-hot"
					>
					{{ ::'discover.home.hot_news_heading' | translate }}
				</a>

				<a class="link-unstyled"
					ui-sref="discover.news.list-section( { section: 'followed' } )"
					ng-switch-when="followed"
					gj-track-event="home:row-heading:news-followed"
					>
					{{ ::'discover.home.followed_news_heading' | translate }}
				</a>
			</h3>

			<div class="row">
				<div class="col-sm-10 col-md-8 col-lg-6" ng-switch="homeCtrl.activeNewsTab">
					<p class="text-muted small" ng-switch-when="hot">{{ ::'discover.home.hot_news_help' | translate }}</p>
					<p class="text-muted small" ng-switch-when="followed">{{ ::'discover.home.followed_news_help' | translate }}</p>
				</div>
			</div>

		</div>

		<gj-post-list ng-if="Screen.isMobile" post-list-items="homeCtrl.articles[ homeCtrl.activeNewsTab ]"></gj-post-list>
		<gj-post-grid ng-if="Screen.isDesktop" post-grid-items="homeCtrl.articles[ homeCtrl.activeNewsTab ]"></gj-post-grid>

		<div class="text-right" ng-switch="homeCtrl.activeNewsTab">
			<a class="btn btn-primary-outline" ng-class="{ 'btn-block': Screen.isXs }" ng-switch-when="hot" ui-sref="discover.news.list" gj-track-event="home:news-more">
				<span class="jolticon jolticon-chevron-right"></span>
				{{ ::'discover.home.more_news' | translate }}
			</a>
			<a class="btn btn-primary-outline" ng-class="{ 'btn-block': Screen.isXs }" ng-switch-when="followed" ui-sref="discover.news.list-section( { section: 'followed' } )" gj-track-event="home:news-more">
				<span class="jolticon jolticon-chevron-right"></span>
				{{ ::'discover.home.more_news' | translate }}
			</a>
		</div>

	</div>
</section>

<section class="section">
	<div class="container">

		<h3 class="section-header sans-margin-bottom">
			<a class="link-unstyled" href="http://fireside.gamejolt.com" gj-track-event="home:row-heading:fireside">
				{{ ::'discover.home.fireside_heading' | translate }}
				<br class="visible-xs">
				<img class="fireside-logo" src="/app/img/fireside/logo.png" alt="Fireside">
			</a>
		</h3>

		<div class="row">
			<div class="col-sm-10 col-md-8 col-lg-6">
				<p class="text-muted small">{{ ::'discover.home.fireside_help' | translate }}</p>
			</div>
		</div>

		<div ng-if="Screen.isXs">
			<gj-fireside-post-list fireside-posts="homeCtrl.firesidePosts"></gj-fireside-post-list>
		</div>

		<div class="row" ng-if="!Screen.isXs">
			<div class="col-sm-6 col-md-4 anim-fade-in stagger"
				ng-repeat="post in homeCtrl.firesidePosts | limitTo:3 track by post.id"
				gj-track-event="home:slider:fs:{{ $index }}"
				>
				<gj-fireside-post-thumbnail fireside-post="post"></gj-fireside-post-thumbnail>
			</div>
		</div>

		<div class="text-right">
			<a class="btn btn-primary-outline" ng-class="{ 'btn-block': Screen.isXs }" href="http://fireside.gamejolt.com" gj-track-event="home:more-btn:fireside">
				<span class="jolticon jolticon-chevron-right"></span>
				More Fireside
			</a>
		</div>

	</div>
</section>

<section class="ad-section" ng-if="!Environment.isClient && !Screen.isXs">
	<gj-ad ad-size="leaderboard"></gj-ad>
</section>
