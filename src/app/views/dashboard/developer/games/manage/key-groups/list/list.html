<h2 class="section-header" translate>
	Key Groups
</h2>

<div class="row">
	<div class="col-sm-4 col-sm-push-7">
		<div class="page-help">
			<p>Organise your keys into groups. Alpha/beta testers, friends, press, YouTubers, streamers, etc.</p>
		</div>
	</div>

	<div class="col-sm-7 col-sm-pull-4">

		<gj-editable-accordion is-adding="listCtrl.isAdding">

			<gj-editable-accordion-item ng-repeat="group in listCtrl.keyGroups track by group.id">
				<gj-editable-accordion-item-heading>

					<div>
						<a ui-sref="dashboard.developer.games.manage.key-groups.edit( { keyGroupId: group.id } )">
							{{ group.name }}
						</a>
					</div>

					<div>
						<span class="tag tag-blue">
							<span ng-if="group.type == KeyGroup.TYPE_ANONYMOUS" translate>
								Anonymous
							</span>
							<span ng-if="group.type == KeyGroup.TYPE_ANONYMOUS_CLAIM" translate>
								Anonymous (must claim)
							</span>
							<span ng-if="group.type == KeyGroup.TYPE_EMAIL" translate>
								Email
							</span>
							<span ng-if="group.type == KeyGroup.TYPE_USER" translate>
								User
							</span>
						</span>
					</div>

				</gj-editable-accordion-item-heading>
			</gj-editable-accordion-item>

			<gj-editable-accordion-add add-label="{{ 'Add Key Group' | translate }}">

				<gj-form-dashboard-game-key-group
					game="manageCtrl.game"
					packages="listCtrl.packages"
					gj-form-submit-handler="listCtrl.onKeyGroupAdded( formModel )"
					>
				</gj-form-dashboard-game-key-group>

			</gj-editable-accordion-add>

		</gj-editable-accordion>

	</div>
</div>
