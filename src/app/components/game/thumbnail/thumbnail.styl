@require '~styles/variables'
@require '../../../../lib/gj-lib-client/stylus/common/mixins'

.game-thumbnail

	$zindex-img = 1
	$zindex-video = 2
	$zindex-tags = 3
	$zindex-controls = 3

	position: relative
	display: block
	margin-bottom: $grid-gutter-width-xs

	@media $media-sm-up
		margin-bottom: $grid-gutter-width

	// If a video is active, hide the tag.
	&.active
		.game-thumbnail-video-tag
			display: none

	// Hide these when hovered so there's more info to view the image.'
	&:hover
		.game-thumbnail-pricing
		.game-thumbnail-tag
		.game-thumbnail-video-tag
			display: none

	&-controls
		position: absolute
		top: 0
		right: 5px
		z-index: $zindex-controls

	&-thumb
		position: relative
		height: 0
		padding-top: 56.25%  // HD 16:9
		overflow: hidden
		background-color: $gray-lightest

		.fill-dark &
		.fill-darker &
		.fill-darkest &
			background-color: $black

		> .jolticon
			position: absolute
			font-size: 16px * 4
			left: 50%
			margin-left: -(@font-size / 2)
			top: @left
			margin-top: @margin-left
			color: $gray-lighter

		img
		video
		.video
			display: block
			position: absolute
			left: 0
			right: 0
			top: 0
			bottom: 0
			width: 100%
			height: 100%

		img
			z-index: $zindex-img

		video
			z-index: $zindex-video

	&-meta
		position: relative
		padding-top: 7px

	&-dev
		text-overflow()
		margin: 2px 0
		color: $gray-light
		line-height: 1.5  // Cuts off `g` on ff if any lower.
		font-weight: 300
		font-size: $font-size-h6

	&-title
		text-overflow()
		margin: 0
		width: 100%
		line-height: 1.3
		font-weight: bold
		color: $gray-darker

		.fill-dark &
		.fill-darker &
		.fill-darkest &
			color: $gray-lightest

	&-os
		float: right
		margin-left: 5px

	&-meter
		margin-left: 5px
		float: right

		.meter
			display: inline-block

	&-rating-count
		color: $text-muted
		font-size: $font-size-tiny
		margin-right: 2px

	&-video-tag
		position: absolute
		bottom: 0
		left: 5px
		padding: 5px
		padding-bottom: 3px
		color: $gj-blue
		background-color: rgba( $black, 0.8 )
		z-index: $zindex-tags

	&-tag
		position: absolute
		left: 0
		top: 10px
		z-index: $zindex-tags
		color: $gj-blue
		background-color: $gray-darkest

	&-pricing
		position: absolute
		height: 30px
		line-height: @height
		top: -(@height)
		right: 5px
		padding: 0 10px
		text-align: center
		z-index: $zindex-tags

		&-owned
			& ^[-1]-tag
				color: inherit

		&-amount
			color: $white
			font-size: $font-size-small

		&-currency
			color: $gray-lighter

		&-decimal
			font-size: $font-size-small

		&-tag
			color: $white
			font-size: $font-size-tiny
			font-weight: bold
			text-transform: uppercase

			&.muted
				color: $gray-lighter


		// This is way too complex.
		&-sale
			height: 36px
			line-height: @height
			top: -(@height)

			.game-thumbnail-pricing

				&-sale-percentage
					display: inline-block
					vertical-align: top
					margin-left: -10px
					margin-right: 10px
					padding-left: 10px
					padding-right: 10px
					height: 36px
					line-height: @height
					font-weight: bold
					background-color: $gj-green
					color: $black

				&-container
					display: inline-block
					height: 36px
					padding-top: 3px
					padding-bottom: 3px
					vertical-align: top

				&-amount
					line-height: 20px

				&-amount-old
					color: $gray-lighter
					text-decoration: line-through
					font-size: $font-size-tiny
					line-height: 10px
					vertical-align: text-bottom
