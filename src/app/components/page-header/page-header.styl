// Makes styling easier.
// This way they can attach stuff like "text-align: right" to these elements.
gj-page-header-content
gj-page-header-spotlight
gj-page-header-nav
gj-page-header-controls
	display: block

.page-header

	$page-header-spotlight-breakpoint = media( min: $screen-sm-min, max: 1450px )

	// Bootstrap has styling on .page-header.
	// Gotta override.
	padding: 0
	margin-bottom: 0
	border-bottom: 0

	&-cover
		@extend .fill-darker
		position: relative
		padding-bottom: 0

		> .container
			position: relative

		&.has-cover-image
			padding: 0

			.page-header-content
				text-shadow: 1px 1px 1px rgba( $black, 0.5 )

				@media $media-sm-up
					position: absolute
					bottom: 0
					left: ($grid-gutter-width / 2)
					right: @left

			.text-muted
				color: $gray-lightest

			.link-muted
				color: rgba( $white, 0.6 )

			.tag
			.user-dogtag
				text-shadow: none

			.meter-blip
				background-color: rgba( $white, 0.5 )
				box-shadow: 1px 1px 1px rgba( $black, 0.3 )

			.meter-low .meter-blip-filled
				background-color: $gj-pink

			.meter-mid .meter-blip-filled
				background-color: $white

			.meter-high .meter-blip-filled
				background-color: $gj-green

	&-content
		padding-bottom: 10px

		// On XS it behaves more like a well.
		@media $media-xs
			padding-top: 15px
			padding-bottom: $grid-gutter-width-xs

		h1, h2, h3
			margin: 0

		a
			color: $white !important

			&:hover
				color: $white !important
				text-decoration: underline

		.meter
			display: inline-block
			vertical-align: middle

	&-spotlight
		position: absolute
		width: 100px
		bottom: -((@width / 2) + 5px)
		left: -(@width + ($grid-gutter-width / 2))
		border: 5px solid $white
		background-color: $white
		z-index: 2

		&
		img
			border-radius: 50%

	&-nav
		position: relative
		padding: 0
		z-index: 1

		nav
			margin-top: 11px !important

		@media $media-md-up
			height: 65px

			// Force on to GPU.
			// For some reason Chrome wasn't repainting when it would disappear.
			// This fixes the Chrome bug. Odd.
			transform: translate3d( 0, 0, 0 )

			.platform-list
				// float: left
				margin-top: 11px !important

			&.gj-scroll-affixed
				position: fixed
				background-color: $gray-dark
				margin-top: $shell-top-nav-height !important
				border-bottom: 2px solid $gray
				z-index: $zindex-nav-scroll-affixed

				nav
					margin-left: 0

	&-controls
		@extend .clearfix
		margin-top: 14px
		margin-bottom: $grid-gutter-width-xs

		@media $media-md-up
			margin-bottom: 0

	@media $media-sm

		// &-controls
		// 	@extend .clearfix

		&-controls
			margin-left: 100px + ($grid-gutter-width / 2)
			// float: left

		&-nav nav
			margin-left: 0 !important

	// For when the page gets too small to float the spotlight off the left edge.
	@media $page-header-spotlight-breakpoint

		&-spotlight
			left: 0

		&-content
			padding-left: 100px + ($grid-gutter-width / 2)

		&-nav nav
			margin-left: 100px + ($grid-gutter-width / 2)
