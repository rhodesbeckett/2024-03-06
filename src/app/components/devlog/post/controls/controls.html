<!-- Buttons -->
<div class="devlog-post-controls">
	<hr>

	<div ng-if="::$ctrl.post.status == $ctrl.firesidePostModel.STATUS_ACTIVE">
		<p ng-if="$ctrl.post.comment_count">
			<a class="link-muted"
				translate
				translate-n="$ctrl.post.comment_count"
				translate-plural="{{ $count | number }} comments"
				>
				1 comment
			</a>
		</p>
	</div>

	<div class="clearfix">
		<div class="pull-left" ng-if="::$ctrl.post.status == $ctrl.firesidePostModel.STATUS_ACTIVE">
			<button class="btn btn-outline btn-sparse"
				ng-click="$ctrl.isShowingComments = !$ctrl.isShowingComments"
				>
				<span class="jolticon jolticon-reply"></span>
			</button>

			<gj-fireside-post-like-widget
				fireside-post="$ctrl.post"
				no-avatars="true"
				>
			</gj-fireside-post-like-widget>
		</div>

		<div class="pull-right" ng-if="::$ctrl.app.user && $ctrl.post.user.id == $ctrl.app.user.id">
			<button class="btn btn-success-outline" ng-if="$ctrl.post.status == $ctrl.firesidePostModel.STATUS_DRAFT" ng-click="$ctrl.publishPost()">
				<span class="jolticon jolticon-check"></span>
				<span translate>Publish</span>
			</button>
			<button class="btn btn-outline" ng-click="$ctrl.showEdit()">
				<span class="jolticon jolticon-edit"></span>
				<span translate>Edit</span>
			</button>
			<button class="btn btn-outline btn-sparse" gj-popover-trigger="devlog-post-controls-options-{{ ::$ctrl.post.id }}">
				<span class="jolticon jolticon-ellipsis-h"></span>
			</button>
		</div>
	</div>

</div>

<!-- Options -->
<gj-popover popover-id="devlog-post-controls-options-{{ ::$ctrl.post.id }}">
	<div class="list-group list-group-dark">
		<a class="list-group-item has-icon"
			ng-click="$ctrl.removePost()"
			>
			<span class="jolticon jolticon-remove warning"></span>
			<span translate>Remove Post</span>
		</a>
	</div>
</gj-popover>

<!-- Comments -->
<div ng-if="$ctrl.isShowingComments">
	<br>
	<br>

		<!--current-page="$ctrl.currentCommentPage"-->
	<gj-comment-widget
		comment-resource="Fireside_Post"
		comment-resource-id="::$ctrl.post.id"
		>
	</gj-comment-widget>
</div>
